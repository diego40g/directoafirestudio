<h1>Task List</h1>

<button (click)="openCreateTaskModal()">Add New Task</button>

<div *ngIf="tasks && tasks.length > 0">
  <h2>My Tasks</h2>
  <ul>
    <li *ngFor="let task of tasks">
      <h3>{{ task.title }}</h3>
      <p>{{ task.description }}</p>
      <p>
        Owner: {{ task.createdBy }}
        <span *ngIf="task.isSharedCopy && task.originalCreatorId && task.originalCreatorId !== task.createdBy">
          (Shared by: {{ task.originalCreatorId }})
        </span>
      </p>
      <p *ngIf="task.invitation && task.invitation.length > 0 && !task.isSharedCopy">
        Invitations sent: {{ task.invitation.join(', ') }}
      </p>
      <!-- Add buttons for Edit and Delete later -->
    </li>
    </ul>
</div>

<div *ngIf="isModalOpen && currentUserId" class="modal-container">
  <app-task-item
    [createdByUserId]="currentUserId"
    (close)="closeCreateTaskModal()"
    (taskCreated)="onTaskCreated($event)"></app-task-item>
</div>
